<!-- Container chính cho trang -->
<div class="container">

    <!-- Phần master -->
    <div class="row mb-3"> <!-- Adds margin at the bottom -->
        <div class="col-sm-8">
            <div class="row mb-2">
                <div class="form-group col-sm-4">
                    <label class="font-weight-bold">Từ ngày</label>
                    <app-date-picker [(dateValue)]="filters.fromDate" [inputClass]="'form-control'"
                    [isShowTime]="false" [format]="'DD/MM/YYYY'"
                    [isShowWeek]="false"></app-date-picker>
                </div>
                <div class="form-group col-sm-4">
                    <label class="font-weight-bold">Đến ngày</label>
                    <app-date-picker [(dateValue)]="filters.toDate" [inputClass]="'form-control'"
                    [isShowTime]="false" [format]="'DD/MM/YYYY'"
                    [isShowWeek]="false"></app-date-picker>
                </div>
                <div class="form-group col-sm-4">
                    <label class="font-weight-bold">Tìm kiếm</label>
                    <input name="SearchString" class="form-control clearable" type="search" placeholder="Mã/Họ và tên/Số điện thoại">
                </div>
            </div>
            <div class="row mb-2" *ngIf="isExpanded">
                <div class="form-group col-sm-4">
                    <label class="font-weight-bold">Tìm kiếm</label>
                    <input name="SearchString" class="form-control clearable" type="search" placeholder="Mã/Họ và tên/Số điện thoại">
                </div>
            </div>
        </div>
        <div class="col-sm-4 form-group-button" style="margin-top: 20px;">
            <div class="btn-group mr-2">
                <button class="btn btn-success" style="color: white;">Tìm</button>
                <button type="button" class="btn btn-success" style="color: white;" (click)="toggleExpansion()">
                    <i class="bi bi-funnel-fill"></i>
                </button>
            </div>
            <button class="btn btn-success" style="color: white;margin-left: 5px;" data-key="f1">Thêm mới</button>
        </div>
    </div>
    
    
  
    <!-- Phần nội dung ở dưới đây-->
    <div class="row">
      <div class="col-12">
        <p-table [value]="products"  [(selection)]="selectedProduct" selectionMode="single"
        showGridlines [sortOrder]="-1" [scrollable]="true" scrollHeight="500px"  rowHover="true">
          <ng-template pTemplate="header">
              <tr>
                  <th pFrozenColumn pSortableColumn="code" style="min-width:100px !important">
                      Code <p-sortIcon field="code" />
                  </th>
                  <th pSortableColumn="name" style="min-width:200px !important">
                      Name <p-sortIcon field="name" />
                  </th>
                  <th pSortableColumn="price" style="min-width:200px !important">
                      Price <p-sortIcon field="price" />
                  </th>
                  <th pSortableColumn="category" style="min-width:200px !important">
                      Category <p-sortIcon field="category" />
                  </th>
                  <th pSortableColumn="quantity" style="min-width:200px !important">
                      Quantity <p-sortIcon field="quantity" />
                  </th>
                  <th pSortableColumn="quantity" style="min-width:200px !important">
                    Quantity <p-sortIcon field="quantity" />
                  </th>
                  <th pSortableColumn="quantity" style="min-width:200px !important">
                    Quantity <p-sortIcon field="quantity" />
                  </th>
                  <th alignFrozen="right" pFrozenColumn pSortableColumn="ok" style="min-width:100px !important">
                    OK <p-sortIcon field="ok" />
                </th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-product>
              <tr [pSelectableRow]="product">
                  <td pFrozenColumn>{{ product.code }}</td>
                  <td >{{ product.name }}</td>
                  <td>{{ product.price | currency : 'USD' }}</td>
                  <td>{{ product.category }}</td>
                  <td>{{ product.quantity }}</td>
                  <td >{{ product.description }}</td>
                  <td >{{ product.quantity }}</td>
                  <td alignFrozen="right" pFrozenColumn>{{ product.quantity }}</td>
              </tr>
          </ng-template>
        </p-table>
        <div class="flex justify-center">
            <app-paginator 
                [totalRows]="totalRows"
                (selectPageEvent)="onPageChange($event)" 
                (selectRowsEvent)="onRowsChange($event)" >
            </app-paginator>
        </div>
      </div>
    </div>
  </div>
  